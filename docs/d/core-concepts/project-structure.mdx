---
title: Project Structure
---

# Project Structure in Nanoservice-ts

When you initialize a new Nanoservice-ts project using the `nanoctl create project` command, it sets up a standardized directory structure. Understanding this structure is key to effectively developing and maintaining your Nanoservice-ts applications.

This guide provides an overview of the typical project layout and the purpose of its key components.

## Standard Directory Layout

A newly generated Nanoservice-ts project will generally have the following structure:

```plaintext
my-nanoservice-project/
├── .env.local                # Local environment variables (ignored by Git)
├── .gitignore                # Specifies intentionally untracked files that Git should ignore
├── Dockerfile                # For containerizing your application
├── nodemon.json              # Configuration for nodemon (development auto-restarts)
├── package.json              # Project dependencies and scripts
├── tsconfig.json             # TypeScript compiler options
├── public/                   # (Optional) Static assets served by the application
├── workflows/                # Workflow definitions
│   ├── json/                 # JSON workflow files (generated by CLI)
│   └── ts/                   # (Optional) TypeScript workflow files (if using programmatic definition)
└── src/                      # Source code for your application
    ├── nodes/                # Your custom Nanoservice Nodes
    │   └── my-first-node/    # Example of a node directory
    │       ├── index.ts      # Node implementation
    │       └── package.json  # Node metadata and schemas
    ├── types/                # (Optional) Shared TypeScript type definitions for your project
    ├── Nodes.ts              # Central registration file for your nodes
    ├── Workflow.ts           # (Optional) Base class or helpers for TS workflows
    └── index.ts              # Main entry point for your application
```

Let's break down the purpose of each important file and directory:

### Root Directory Files

-   **`.env.local`**: Used for storing environment variables specific to your local development setup. This file should be included in `.gitignore` to prevent committing sensitive information like API keys or database credentials.
-   **`.gitignore`**: Standard Git file that specifies intentionally untracked files that Git should ignore (e.g., `node_modules/`, `.env.local`, build artifacts).
-   **`Dockerfile`**: Provides instructions to build a Docker container image for your Nanoservice-ts application. This simplifies deployment and ensures consistency across environments.
-   **`nodemon.json`**: Configuration file for `nodemon`, a utility that automatically restarts your application during development when file changes are detected. This speeds up the development feedback loop.
-   **`package.json`**: The heart of any Node.js project. It contains:
    -   Project metadata (name, version, description).
    -   A list of project dependencies (e.g., `@nanoservice-ts/runner`, `@nanoservice-ts/shared`) and devDependencies.
    -   NPM scripts for common tasks like starting the development server (`dev`), building the project (`build`), and running the production build (`start`).
-   **`tsconfig.json`**: The configuration file for the TypeScript compiler (`tsc`). It specifies root files and compiler options like target ECMAScript version, module system, and strictness settings.

### `public/` Directory (Optional)

-   If your application needs to serve static files (like HTML, CSS, images for a UI provided by a node), you can place them here. The HTTP trigger or specific nodes might be configured to serve content from this directory.

### `workflows/` Directory

This directory is dedicated to your workflow definitions.

-   **`workflows/json/`**: This is where `nanoctl create workflow` typically generates workflow definition files in JSON format (e.g., `my-workflow.json`). This is the recommended format for most workflows due to its declarative nature.
-   **`workflows/ts/`**: (Optional) If you choose to define workflows programmatically using TypeScript (e.g., with the `createWorkflow` helper), you would place those `.ts` files here.

### `src/` Directory

This is the main directory for your application's TypeScript source code.

-   **`src/nodes/`**: This is where you will create and organize your individual Nanoservice Nodes. Each node typically resides in its own subdirectory.
    -   **`src/nodes/your-node-name/`**: A dedicated directory for a single node.
        -   `index.ts`: The main TypeScript file containing the node's class definition (extending `NanoService`) and its core `handle` logic.
        -   `package.json`: A node-specific `package.json` file that contains metadata for that node, including its name, version, description, and crucially, its `inputSchema` and `outputSchema` (defined using JSON Schema).
-   **`src/types/`**: (Optional but recommended) A place to define shared TypeScript interfaces or type aliases that might be used across multiple nodes or other parts of your application.
-   **`src/Nodes.ts`**: A critical file for the Nanoservice-ts runtime. This is where you import and register all your custom nodes. The framework uses this registration to locate and instantiate nodes when a workflow executes them.
    ```typescript
    // Example src/Nodes.ts
    import type { NodeBase } from "@nanoservice-ts/shared";
    import MyFirstNode from "./nodes/my-first-node";
    import AnotherNode from "./nodes/another-node";

    const nodes: { [key: string]: NodeBase; } = {
      "my-first-node": new MyFirstNode(),
      "another-node": new AnotherNode(),
    };

    export default nodes;
    ```
-   **`src/Workflow.ts`**: (Optional) If you are using programmatic TypeScript workflows, this file might contain a base class or helper functions related to workflow creation or management.
-   **`src/index.ts`**: The main entry point of your Nanoservice-ts application. This file typically initializes the Nanoservice engine, loads workflows, registers nodes (by importing `src/Nodes.ts`), and starts any necessary listeners (like the HTTP server for HTTP triggers).

## Organizing Your Project

-   **Nodes:** Keep each node in its own subdirectory within `src/nodes/`. This promotes modularity and makes it easy to locate and manage individual node logic and metadata.
-   **Workflows:** Store workflow JSON files in `workflows/json/`. Use descriptive filenames for your workflows (e.g., `process-customer-order.json`, `generate-daily-report.json`).
-   **Shared Code:** If you have utility functions, constants, or types shared by multiple nodes, consider placing them in a `src/common/` or `src/utils/` directory, or within `src/types/` for type definitions.

## Scalability and Maintenance

This standardized project structure is designed to:

-   Make it easier for new developers to understand the project layout.
-   Promote consistency across different Nanoservice-ts projects.
-   Facilitate the independent development and testing of nodes.
-   Simplify the management of workflows and their associated configurations.

By adhering to this structure and understanding the role of each component, you can build robust, scalable, and maintainable applications with Nanoservice-ts.
